<div class="container">
  <ng-template #loading>
    <div class="">Loading user</div>
  </ng-template>

  <div *ngIf="user; else loading">
    <div class="col-sm-12 row flex-sm-wrap">
      <div class="col-sm-8">
        <div class="container">
          <div>
            <div class="row">
              <div class="rounded-circle text-light text-center pt-2 name">
                {{ user.firstName | slice: 0:1 | uppercase
                }}{{ user.lastName | slice: 0:1 | uppercase }}
              </div>
              <div class="p-2">
                <div>{{ user.firstName }}</div>
                <div>{{ user.lastName }}</div>
                <div>{{ user.email }}</div>
              </div>
            </div>
            <div>
              joined: {{ user.createdAt | date }} last account update; {{ user.updatedAt | date }}
            </div>
            <div class="">Total Tasks Published: {{ user.tasks?.length }}</div>
            <a class="text-decoration-none" routerLink="/users"> back </a>
            <div class="pt-4">
              <h4 class="mb-3">Published Tasks</h4>
              <div *ngFor="let task of user.tasks">
                <div class="card border-secondary">
                  <div class="card-header">
                    <h6 class="card-title">{{ task.name }}</h6>
                  </div>
                  <div class="card-body">
                    <p class="card-text">{{ task.description }}</p>
                    <a class="card-link mt-1" routerLink="/task/{{ task.id }}"> Details </a>
                    <a class="card-link" routerLink="/task/edit/{{ task.id }}"> Edit </a>
                    <a class="text-danger card-link" (click)="deleteTask(task)"> Delete </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div></div>
      </div>
    </div>
  </div>
</div>
